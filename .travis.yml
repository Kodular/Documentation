sudo: true

language: android
python: "3.6"

android:
  components:
    - tools
    - platform-tools
    - android-29

install:
  # APT Packages
  - sudo apt-get update
  - sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev libssl-dev software-properties-common
  - sudo add-apt-repository -y ppa:deadsnakes/ppa
  - curl -sL https://deb.nodesource.com/setup_13.x | sudo -E bash -
  - sudo apt-get install -y nodejs build-essential libcairo2-dev python3.6
  - curl https://bootstrap.pypa.io/get-pip.py | sudo -H python3.6
  # NPM Packages
  - sudo npm install -g cordova
  # Python Packages
  - easy_install distribute
  - pip3 install -r requirements.txt

script:
  - git clean -f -d -x
  - mkdocs build

after_success:
  - git config user.name "Kodular Bot"
  - git config user.email "github@kodular.io"
  - git remote add gh-token "https://KodularCreator:${GH_TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git"
  - git fetch gh-token && git fetch gh-token gh-pages:gh-pages;
  - mkdocs gh-deploy -v --clean --remote-name gh-token;
